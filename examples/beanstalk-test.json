{
    "name": "beanstalk-test",
    "active": true,
    "description": "",
    "path": "processes\/42a7449f-455f-423d-8356-2ed6f0f1c0e9",
    "properties": [
        {
            "id": "2a880a17-afb1-4bd4-b85f-ce097d876980",
            "name": "contextType",
            "value": "Resource",
            "description": "",
            "secure": false
        },
        {
            "id": "f82794db-2b82-4069-ac40-28a0ac62fb1c",
            "name": "workingDir",
            "value": "${p:resource\/work.dir}\/${p:process.name}",
            "description": "",
            "secure": false
        }
    ],
    "executionTimeout": 0,
    "entityType": "GenericProcess",
    "propDefs": [
        {
            "name": "app.name",
            "label": "Application Name",
            "extendedLabel": "Application Name",
            "type": "TEXT",
            "value": "java-web-app",
            "required": false,
            "description": "The Application Name",
            "hidden": false
        },
        {
            "name": "env.name",
            "label": "Environment Name",
            "extendedLabel": "Environment Name",
            "type": "TEXT",
            "value": "Test",
            "required": false,
            "description": "The Environment Name",
            "hidden": false
        },
        {
            "name": "s3.bucket",
            "label": "S3 Bucket",
            "extendedLabel": "S3 Bucket",
            "type": "TEXT",
            "value": "elasticbeanstalk-eu-west-2-093005091287",
            "required": false,
            "description": "The S3 Bucket",
            "hidden": false
        },
        {
            "name": "domain.name",
            "label": "Domain",
            "extendedLabel": "Domain",
            "type": "TEXT",
            "value": "jwa-test",
            "required": false,
            "description": "",
            "hidden": false
        }
    ],
    "rootActivity": {
        "edges": [
            {
                "to": "List Stacks",
                "from": "Environment Exists",
                "type": "FAILURE",
                "value": ""
            },
            {
                "to": "Wait for Environment",
                "from": "Environment Exists",
                "type": "SUCCESS",
                "value": ""
            },
            {
                "to": "Wait for Environment",
                "from": "Create Environment",
                "type": "ALWAYS",
                "value": ""
            },
            {
                "to": "Create Environment",
                "from": "List Stacks",
                "type": "SUCCESS",
                "value": ""
            },
            {
                "to": "Deploy into Elastic Beanstalk",
                "from": "Wait for Environment",
                "type": "SUCCESS",
                "value": ""
            },
            {
                "to": "Create Application",
                "from": "Application Exists",
                "type": "FAILURE",
                "value": ""
            },
            {
                "to": "Environment Exists",
                "from": "Application Exists",
                "type": "SUCCESS",
                "value": ""
            },
            {
                "to": "10ad-3dc6-3801-ce62",
                "from": "Deploy into Elastic Beanstalk",
                "type": "SUCCESS",
                "value": ""
            },
            {
                "to": "Application Exists",
                "type": "ALWAYS",
                "value": ""
            },
            {
                "to": "Environment Exists",
                "from": "Create Application",
                "type": "ALWAYS",
                "value": ""
            }
        ],
        "offsets": [
            {
                "name": "Deploy into Elastic Beanstalk",
                "x": -107.5,
                "y": 680
            },
            {
                "name": "10ad-3dc6-3801-ce62",
                "x": -8.5,
                "y": 800
            },
            {
                "name": "Create Environment",
                "x": 131,
                "y": 460
            },
            {
                "name": "Application Exists",
                "x": -79,
                "y": 100
            },
            {
                "name": "List Stacks",
                "x": 131,
                "y": 370
            },
            {
                "name": "Wait for Environment",
                "x": -90.5,
                "y": 570
            },
            {
                "name": "Create Application",
                "x": 131,
                "y": 190
            },
            {
                "name": "Environment Exists",
                "x": -79,
                "y": 280
            }
        ],
        "sizes": [
            {
                "name": "Wait for Environment",
                "width": 0,
                "height": 0
            },
            {
                "name": "Environment Exists",
                "width": 0,
                "height": 0
            },
            {
                "name": "Deploy into Elastic Beanstalk",
                "width": 0,
                "height": 0
            },
            {
                "name": "List Stacks",
                "width": 0,
                "height": 0
            },
            {
                "name": "Create Environment",
                "width": 0,
                "height": 0
            },
            {
                "name": "Application Exists",
                "width": 0,
                "height": 0
            },
            {
                "name": "10ad-3dc6-3801-ce62",
                "width": 0,
                "height": 0
            },
            {
                "name": "Create Application",
                "width": 0,
                "height": 0
            }
        ],
        "type": "graph",
        "name": "2ac74d46-bd2b-48ac-bba0-1000d036ae4b",
        "children": [
            {
                "type": "finish",
                "name": "10ad-3dc6-3801-ce62",
                "children": []
            },
            {
                "allowFailure": false,
                "useImpersonation": false,
                "showHidden": false,
                "impersonationUseSudo": false,
                "impersonationUseSsh": false,
                "commandName": "Create Application",
                "pluginName": "AWSElasticBeanstalk",
                "pluginVersion": 1,
                "properties": {
                    "accessKeyId": "${p:system\/EC2AccessKeyId}",
                    "secretKey": "${p:system\/EC2SecretKey}",
                    "region": "EU_WEST_2",
                    "appName": "${app.name}",
                    "debugMode": ""
                },
                "type": "plugin",
                "name": "Create Application",
                "children": []
            },
            {
                "allowFailure": false,
                "useImpersonation": false,
                "showHidden": false,
                "impersonationUseSudo": false,
                "impersonationUseSsh": false,
                "commandName": "Application Exists",
                "pluginName": "AWSElasticBeanstalk",
                "pluginVersion": 1,
                "properties": {
                    "accessKeyId": "${p:system\/EC2AccessKeyId}",
                    "secretKey": "${p:system\/EC2SecretKey}",
                    "region": "EU_WEST_2",
                    "appName": "${app.name}",
                    "debugMode": ""
                },
                "type": "plugin",
                "name": "Application Exists",
                "children": []
            },
            {
                "allowFailure": false,
                "useImpersonation": false,
                "showHidden": false,
                "impersonationUseSudo": false,
                "impersonationUseSsh": false,
                "commandName": "Environment Exists",
                "pluginName": "AWSElasticBeanstalk",
                "pluginVersion": 1,
                "properties": {
                    "accessKeyId": "${p:system\/EC2AccessKeyId}",
                    "secretKey": "${p:system\/EC2SecretKey}",
                    "region": "EU_WEST_2",
                    "appName": "${app.name}",
                    "envName": "${env.name}",
                    "debugMode": ""
                },
                "type": "plugin",
                "name": "Environment Exists",
                "children": []
            },
            {
                "allowFailure": false,
                "useImpersonation": false,
                "showHidden": false,
                "impersonationUseSudo": false,
                "impersonationUseSsh": false,
                "commandName": "Create Environment",
                "pluginName": "AWSElasticBeanstalk",
                "pluginVersion": 1,
                "properties": {
                    "accessKeyId": "${p:system\/EC2AccessKeyId}",
                    "secretKey": "${p:system\/EC2SecretKey}",
                    "region": "EU_WEST_2",
                    "appName": "${app.name}",
                    "envName": "${env.name}",
                    "cNAMEPrefix": "${domain.name}",
                    "stackName": "${p:prevStep\/UIP}",
                    "configOptions": "aws:autoscaling:launchconfiguration->IamInstanceProfile->aws-elasticbeanstalk-ec2-role\naws:ec2:vpc->VPCId->vpc-0e4cbe1c67f454f92\naws:ec2:vpc->Subnets->subnet-06bc440ace5fd25fb",
                    "debugMode": ""
                },
                "type": "plugin",
                "name": "Create Environment",
                "children": []
            },
            {
                "allowFailure": false,
                "useImpersonation": false,
                "showHidden": false,
                "impersonationUseSudo": false,
                "impersonationUseSsh": false,
                "commandName": "List Stacks",
                "pluginName": "AWSElasticBeanstalk",
                "pluginVersion": 1,
                "properties": {
                    "accessKeyId": "${p:system\/EC2AccessKeyId}",
                    "secretKey": "${p:system\/EC2SecretKey}",
                    "region": "EU_WEST_2",
                    "stackFilter": "java",
                    "userInterventionRequired": "true",
                    "keyColumnName": "Name",
                    "debugMode": ""
                },
                "type": "plugin",
                "name": "List Stacks",
                "children": []
            },
            {
                "allowFailure": false,
                "useImpersonation": false,
                "showHidden": false,
                "impersonationUseSudo": false,
                "impersonationUseSsh": false,
                "commandName": "Wait for Environment",
                "pluginName": "AWSElasticBeanstalk",
                "pluginVersion": 1,
                "properties": {
                    "accessKeyId": "${p:system\/EC2AccessKeyId}",
                    "secretKey": "${p:system\/EC2SecretKey}",
                    "region": "EU_WEST_2",
                    "appName": "${app.name}",
                    "envName": "${env.name}",
                    "envStatus": "Ready",
                    "envHealth": "Green",
                    "debugMode": ""
                },
                "type": "plugin",
                "name": "Wait for Environment",
                "children": []
            },
            {
                "allowFailure": false,
                "useImpersonation": false,
                "showHidden": false,
                "impersonationUseSudo": false,
                "impersonationUseSsh": false,
                "commandName": "Deploy into Elastic Beanstalk",
                "pluginName": "AWSElasticBeanstalk",
                "pluginVersion": 1,
                "properties": {
                    "accessKeyId": "${p:system\/EC2AccessKeyId}",
                    "secretKey": "${p:system\/EC2SecretKey}",
                    "region": "EU_WEST_2",
                    "appName": "${app.name}",
                    "envName": "${env.name}",
                    "versionLabel": "1.0",
                    "baseDir": "C:\\Temp\\java-web-app\\target",
                    "versionFile": "java-web-app-0.0.1-SNAPSHOT.war",
                    "s3BucketName": "${s3.bucket}",
                    "s3KeyPrefix": "JWA",
                    "checkForExisting": "true",
                    "waitForEnvironment": "true",
                    "debugMode": ""
                },
                "type": "plugin",
                "name": "Deploy into Elastic Beanstalk",
                "children": []
            }
        ]
    }
}